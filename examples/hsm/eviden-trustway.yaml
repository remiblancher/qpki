# Eviden Trustway Proteccio HSM Configuration
# (formerly Atos/Bull Trustway)
#
# ANSSI certified HSM for French government and critical infrastructure
#
# Prerequisites:
#   - Trustway client software installed
#   - HSM initialized and configured
#   - User partition created
#
# Usage:
#   export HSM_PIN="user-pin"
#   qpki ca init --hsm-config ./eviden-trustway.yaml --key-label "root-ca-key" ...

type: pkcs11

pkcs11:
  # Trustway PKCS#11 library
  lib: /opt/atos/hsm/lib/libp11.so

  # Token identification (choose one)
  token: "CA-Token"           # By label (recommended)
  # token_serial: "ABC123"    # By serial number
  # slot: 0                   # By slot ID (less portable)

  # PIN via environment variable
  pin_env: HSM_PIN
