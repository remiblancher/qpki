# =============================================================================
# PQC Root CA Certificate Profile (ML-DSA-87)
# =============================================================================
#
# Usage: Autorité de certification racine post-quantique
#
# Ce profile utilise ML-DSA-87 (FIPS 204), l'algorithme de signature
# post-quantique le plus fort standardisé par le NIST.
#
# ML-DSA-87 offre:
#   - Sécurité équivalente à AES-256 (niveau de sécurité NIST 5)
#   - Résistance aux attaques par ordinateur quantique
#   - Signatures plus grandes que ECDSA (~4627 bytes)
#
# Standards: FIPS 204 (ML-DSA), RFC 5280 (X.509)
#
# Exemple d'initialisation:
#   pki init-ca --profile pqc/root-ca \
#     --cn "ACME Root CA PQC" \
#     --org "ACME Industrie" \
#     --country "FR"
#
# =============================================================================

name: pqc/root-ca
description: "Root CA ML-DSA-87 (full post-quantum, NIST security level 5)"

# -----------------------------------------------------------------------------
# Subject DN (Distinguished Name)
# -----------------------------------------------------------------------------
# Pour une Root CA, le DN est fixé dans le profile.
#
subject:
  fixed:
    cn: "ACME Root CA PQC"
    o: "ACME Industrie"
    c: "FR"

# -----------------------------------------------------------------------------
# Algorithme de signature
# -----------------------------------------------------------------------------
# ML-DSA-87 (anciennement Dilithium-5) pour sécurité maximale.
# FIPS 204 - Module-Lattice-Based Digital Signature Algorithm
#
signature:
  required: true
  mode: simple
  algorithms:
    primary: ml-dsa-87        # FIPS 204 - niveau de sécurité 5

encryption:
  required: false
  mode: none
  algorithms: {}

validity: 7300d               # 20 ans

# -----------------------------------------------------------------------------
# Extensions X.509
# -----------------------------------------------------------------------------
extensions:

  basicConstraints:
    critical: true
    ca: true
    pathLen: 1

  keyUsage:
    critical: true
    values:
      - keyCertSign
      - cRLSign

  certificatePolicies:
    critical: false
    policies:
      - oid: "2.5.29.32.0"    # anyPolicy
        cps: "https://pki.acme-industrie.fr/cps"
        userNotice: "ACME Industrie Root CA - Post-Quantum (ML-DSA-87)"

  # Note: Pas de CDP ni AIA pour Root CA
